---
id: components_MultiSig
title: MultiSig
---

<div class="contract-doc"><div class="contract"><h2 class="contract-header"><span class="contract-kind">contract</span> MultiSig</h2><div class="source">Source: <a href="git+https://github.com/SFT-Protocol/security-token/blob/v0.11.2/contracts/components/MultiSig.sol" target="_blank">components/MultiSig.sol</a></div></div><div class="index"><h2>Index</h2><ul><li><a href="components_MultiSig.html#ApprovedUntilSet">ApprovedUntilSet</a></li><li><a href="components_MultiSig.html#MultiSigCall">MultiSigCall</a></li><li><a href="components_MultiSig.html#MultiSigCallApproved">MultiSigCallApproved</a></li><li><a href="components_MultiSig.html#NewAuthority">NewAuthority</a></li><li><a href="components_MultiSig.html#NewAuthorityAddresses">NewAuthorityAddresses</a></li><li><a href="components_MultiSig.html#NewAuthorityPermissions">NewAuthorityPermissions</a></li><li><a href="components_MultiSig.html#RemovedAuthorityAddresses">RemovedAuthorityAddresses</a></li><li><a href="components_MultiSig.html#RemovedAuthorityPermissions">RemovedAuthorityPermissions</a></li><li><a href="components_MultiSig.html#ThresholdSet">ThresholdSet</a></li><li><a href="components_MultiSig.html#_addAddresses">_addAddresses</a></li><li><a href="components_MultiSig.html#_checkMultiSig">_checkMultiSig</a></li><li><a href="components_MultiSig.html#addAuthority">addAuthority</a></li><li><a href="components_MultiSig.html#addAuthorityAddresses">addAuthorityAddresses</a></li><li><a href="components_MultiSig.html#checkMultiSigExternal">checkMultiSigExternal</a></li><li><a href="components_MultiSig.html#">fallback</a></li><li><a href="components_MultiSig.html#isApprovedAuthority">isApprovedAuthority</a></li><li><a href="components_MultiSig.html#onlyOwner">onlyOwner</a></li><li><a href="components_MultiSig.html#onlySelfAuthority">onlySelfAuthority</a></li><li><a href="components_MultiSig.html#removeAuthorityAddresses">removeAuthorityAddresses</a></li><li><a href="components_MultiSig.html#setAuthorityApprovedUntil">setAuthorityApprovedUntil</a></li><li><a href="components_MultiSig.html#setAuthoritySignatures">setAuthoritySignatures</a></li><li><a href="components_MultiSig.html#setAuthorityThreshold">setAuthorityThreshold</a></li></ul></div><div class="reference"><h2>Reference</h2><div class="events"><h3>Events</h3><ul><li><div class="item event"><span id="ApprovedUntilSet" class="anchor-marker"></span><h4 class="name">ApprovedUntilSet</h4><div class="body"><code class="signature">event <strong>ApprovedUntilSet</strong><span>(bytes32 id, uint32 approvedUntil) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>id</code> - bytes32</div><div><code>approvedUntil</code> - uint32</div></dd></dl></div></div></li><li><div class="item event"><span id="MultiSigCall" class="anchor-marker"></span><h4 class="name">MultiSigCall</h4><div class="body"><code class="signature">event <strong>MultiSigCall</strong><span>(bytes32 id, bytes4 callSignature, bytes32 callHash, address caller, uint256 callCount, uint256 threshold) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>id</code> - bytes32</div><div><code>callSignature</code> - bytes4</div><div><code>callHash</code> - bytes32</div><div><code>caller</code> - address</div><div><code>callCount</code> - uint256</div><div><code>threshold</code> - uint256</div></dd></dl></div></div></li><li><div class="item event"><span id="MultiSigCallApproved" class="anchor-marker"></span><h4 class="name">MultiSigCallApproved</h4><div class="body"><code class="signature">event <strong>MultiSigCallApproved</strong><span>(bytes32 id, bytes4 callSignature, bytes32 callHash, address caller) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>id</code> - bytes32</div><div><code>callSignature</code> - bytes4</div><div><code>callHash</code> - bytes32</div><div><code>caller</code> - address</div></dd></dl></div></div></li><li><div class="item event"><span id="NewAuthority" class="anchor-marker"></span><h4 class="name">NewAuthority</h4><div class="body"><code class="signature">event <strong>NewAuthority</strong><span>(bytes32 id, uint32 approvedUntil, uint32 threshold) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>id</code> - bytes32</div><div><code>approvedUntil</code> - uint32</div><div><code>threshold</code> - uint32</div></dd></dl></div></div></li><li><div class="item event"><span id="NewAuthorityAddresses" class="anchor-marker"></span><h4 class="name">NewAuthorityAddresses</h4><div class="body"><code class="signature">event <strong>NewAuthorityAddresses</strong><span>(bytes32 id, address[] added, uint32 ownerCount) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>id</code> - bytes32</div><div><code>added</code> - address[]</div><div><code>ownerCount</code> - uint32</div></dd></dl></div></div></li><li><div class="item event"><span id="NewAuthorityPermissions" class="anchor-marker"></span><h4 class="name">NewAuthorityPermissions</h4><div class="body"><code class="signature">event <strong>NewAuthorityPermissions</strong><span>(bytes32 id, bytes4[] signatures) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>id</code> - bytes32</div><div><code>signatures</code> - bytes4[]</div></dd></dl></div></div></li><li><div class="item event"><span id="RemovedAuthorityAddresses" class="anchor-marker"></span><h4 class="name">RemovedAuthorityAddresses</h4><div class="body"><code class="signature">event <strong>RemovedAuthorityAddresses</strong><span>(bytes32 id, address[] removed, uint32 ownerCount) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>id</code> - bytes32</div><div><code>removed</code> - address[]</div><div><code>ownerCount</code> - uint32</div></dd></dl></div></div></li><li><div class="item event"><span id="RemovedAuthorityPermissions" class="anchor-marker"></span><h4 class="name">RemovedAuthorityPermissions</h4><div class="body"><code class="signature">event <strong>RemovedAuthorityPermissions</strong><span>(bytes32 id, bytes4[] signatures) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>id</code> - bytes32</div><div><code>signatures</code> - bytes4[]</div></dd></dl></div></div></li><li><div class="item event"><span id="ThresholdSet" class="anchor-marker"></span><h4 class="name">ThresholdSet</h4><div class="body"><code class="signature">event <strong>ThresholdSet</strong><span>(bytes32 id, uint32 threshold) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>id</code> - bytes32</div><div><code>threshold</code> - uint32</div></dd></dl></div></div></li></ul></div><div class="modifiers"><h3>Modifiers</h3><ul><li><div class="item modifier"><span id="onlyOwner" class="anchor-marker"></span><h4 class="name">onlyOwner</h4><div class="body"><code class="signature">modifier <strong>onlyOwner</strong><span>() </span></code><hr/><div class="description"><p>Checks that the calling address is associated with the owner.</p></div></div></div></li><li><div class="item modifier"><span id="onlySelfAuthority" class="anchor-marker"></span><h4 class="name">onlySelfAuthority</h4><div class="body"><code class="signature">modifier <strong>onlySelfAuthority</strong><span>(bytes32 _id) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_id</code> - bytes32</div></dd></dl></div></div></li></ul></div><div class="functions"><h3>Functions</h3><ul><li><div class="item function"><span id="_addAddresses" class="anchor-marker"></span><h4 class="name">_addAddresses</h4><div class="body"><code class="signature">function <strong>_addAddresses</strong><span>(bytes32 _id, address[] _addr) </span><span>internal </span><span>returns  (uint32) </span></code><hr/><div class="description"><p>Internal function to add new addresses.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_id</code> - investor or authority ID</div><div><code>_addr</code> - array of addresses</div></dd><dt><span class="label-return">Returns:</span></dt><dd>number of new addresses (not previous restricted)</dd></dl></div></div></li><li><div class="item function"><span id="_checkMultiSig" class="anchor-marker"></span><h4 class="name">_checkMultiSig</h4><div class="body"><code class="signature">function <strong>_checkMultiSig</strong><span>() </span><span>internal </span><span>returns  (bool) </span></code><hr/><div class="description"><p>Internal multisig functionality.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>bool - has call met multisig threshold?</dd></dl></div></div></li><li><div class="item function"><span id="addAuthority" class="anchor-marker"></span><h4 class="name">addAuthority</h4><div class="body"><code class="signature">function <strong>addAuthority</strong><span>(address[] _addr, bytes4[] _signatures, uint32 _approvedUntil, uint32 _threshold) </span><span>external </span><span>returns  (bool) </span></code><hr/><div class="description"><p>Add a new authority.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="components_MultiSig.html#onlyOwner">onlyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_addr</code> - Array of addressses to register as authority</div><div><code>_signatures</code> - Array of bytes4 sigs this authority may call</div><div><code>_approvedUntil</code> - Epoch time that authority is approved until</div><div><code>_threshold</code> - Minimum number of calls to a method for multisig</div></dd><dt><span class="label-return">Returns:</span></dt><dd>bool success</dd></dl></div></div></li><li><div class="item function"><span id="addAuthorityAddresses" class="anchor-marker"></span><h4 class="name">addAuthorityAddresses</h4><div class="body"><code class="signature">function <strong>addAuthorityAddresses</strong><span>(bytes32 _id, address[] _addr) </span><span>external </span><span>returns  (bool) </span></code><hr/><div class="description"><p>Add new addresses to an authority.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="components_MultiSig.html#onlySelfAuthority">onlySelfAuthority </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_id</code> - Authority ID</div><div><code>_addr</code> - Array of addresses</div></dd><dt><span class="label-return">Returns:</span></dt><dd>bool success</dd></dl></div></div></li><li><div class="item function"><span id="checkMultiSigExternal" class="anchor-marker"></span><h4 class="name">checkMultiSigExternal</h4><div class="body"><code class="signature">function <strong>checkMultiSigExternal</strong><span>(bytes4 _sig, bytes32 _callHash) </span><span>external </span><span>returns  (bool) </span></code><hr/><div class="description"><p>External multisig functionality.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_sig</code> - original msg.sig</div><div><code>_callHash</code> - keccack256 of original msg.calldata</div></dd><dt><span class="label-return">Returns:</span></dt><dd>bool - has call met multisig threshold?</dd></dl></div></div></li><li><div class="item function"><span id="fallback" class="anchor-marker"></span><h4 class="name">fallback</h4><div class="body"><code class="signature">function <strong></strong><span>(address[] _owners, uint32 _threshold) </span><span>public </span></code><hr/><div class="description"><p>KYC registrar constructor.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_owners</code> - Array of addresses for owning authority</div><div><code>_threshold</code> - multisig threshold for owning authority</div></dd></dl></div></div></li><li><div class="item function"><span id="isApprovedAuthority" class="anchor-marker"></span><h4 class="name">isApprovedAuthority</h4><div class="body"><code class="signature">function <strong>isApprovedAuthority</strong><span>(address _addr, bytes4 _sig) </span><span>external </span><span>view </span><span>returns  (bool) </span></code><hr/><div class="description"><p>Used to verify permission for calls to modules, Check if address belongs to an approved authority.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_addr</code> - Address of caller</div><div><code>_sig</code> - Original msg.sig</div></dd><dt><span class="label-return">Returns:</span></dt><dd>bool approval</dd></dl></div></div></li><li><div class="item function"><span id="removeAuthorityAddresses" class="anchor-marker"></span><h4 class="name">removeAuthorityAddresses</h4><div class="body"><code class="signature">function <strong>removeAuthorityAddresses</strong><span>(bytes32 _id, address[] _addr) </span><span>external </span><span>returns  (bool) </span></code><hr/><div class="description"><p>Once an address has been removed it may never be re-used, Remove addresses from an authority.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="components_MultiSig.html#onlySelfAuthority">onlySelfAuthority </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_id</code> - Authority ID</div><div><code>_addr</code> - Array of addresses</div></dd><dt><span class="label-return">Returns:</span></dt><dd>bool success</dd></dl></div></div></li><li><div class="item function"><span id="setAuthorityApprovedUntil" class="anchor-marker"></span><h4 class="name">setAuthorityApprovedUntil</h4><div class="body"><code class="signature">function <strong>setAuthorityApprovedUntil</strong><span>(bytes32 _id, uint32 _approvedUntil) </span><span>external </span><span>returns  (bool) </span></code><hr/><div class="description"><p>You can restrict an authority by setting the value to 0, Modify an authority&#x27;s approvedUntil time.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="components_MultiSig.html#onlyOwner">onlyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_id</code> - Authority ID</div><div><code>_approvedUntil</code> - Epoch time that authority is approved until</div></dd><dt><span class="label-return">Returns:</span></dt><dd>bool success</dd></dl></div></div></li><li><div class="item function"><span id="setAuthoritySignatures" class="anchor-marker"></span><h4 class="name">setAuthoritySignatures</h4><div class="body"><code class="signature">function <strong>setAuthoritySignatures</strong><span>(bytes32 _id, bytes4[] _signatures, bool _allowed) </span><span>external </span><span>returns  (bool) </span></code><hr/><div class="description"><p>Modify an authority&#x27;s permitted function calls.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="components_MultiSig.html#onlyOwner">onlyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_id</code> - Authority ID</div><div><code>_signatures</code> - Array of bytes4 sigs</div><div><code>_allowed</code> - bool permission for calling the signatures</div></dd><dt><span class="label-return">Returns:</span></dt><dd>bool success</dd></dl></div></div></li><li><div class="item function"><span id="setAuthorityThreshold" class="anchor-marker"></span><h4 class="name">setAuthorityThreshold</h4><div class="body"><code class="signature">function <strong>setAuthorityThreshold</strong><span>(bytes32 _id, uint32 _threshold) </span><span>external </span><span>returns  (bool) </span></code><hr/><div class="description"><p>Modify an authority&#x27;s multisig threshold.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="components_MultiSig.html#onlySelfAuthority">onlySelfAuthority </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_id</code> - Authority ID</div><div><code>_threshold</code> - New multisig threshold value</div></dd><dt><span class="label-return">Returns:</span></dt><dd>bool success</dd></dl></div></div></li></ul></div></div></div>
